# 개발 예제

## Sample

<html>
    <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
    <script src="./lib/s-connector-lib.js"></script>
    <script>
      "use strict";
      /**아래 로직은 개발사 측의 서버에서 호출 하여 응답 주도록 하여야 합니다.
       accessKey, secretKey 은 유출 될시에 해킹의 워험이 있습니다.
개발시 accessKey, secretKey 값을 개발용과 서비스용으로 따로 발급 받으셔야 합니다.**/
      const serverCall = {
        auth: function () {
          return $.ajax({
              type: "POST",
              url : "https://api.interwater.biz/v1/auth",
              data : {
                "accessKey": "1qdsxjvf8fd",
                "secretKey":"17cc9b1b72b738911b8a6412a17a7e4c08c78181c72d8f0373065af665410ee802471efef2aaabb13681a5b21447c45e491511b48f11e513bdd7340763006f5313a6d459837dc7be406d9fcf29869f70414afe05439295559a07301f6915abffd2c8e43f807f0a76a02ebdc0b92aed8f88dbd1"
              },
              dataType: "json"
          });
        }
      };
      window.onload = function () {
        console.log("???");
        const sElement = document.getElementById("s-element");
        const sConnector = new SConnector.default(sElement, "https://remote.interwater.biz");
        const joinElement = document.getElementById("join");
        joinElement.onclick = (e) => {
          sElement.style = "width: 100%; height: 100%;margin: 5px;";
          try {
            const success = function(response) {
              console.log(response.data.accessToken);
              const userName = document.getElementById("userName");
              const roomName = document.getElementById("roomName");
              const join = {
                userName: userName.value,
                roomName: roomName.value,
                accesstoken: response.data.accessToken
              };
              sConnector.joinRoom(join);
            };
            serverCall.auth().done(success);
          } catch (e) {
            console.error(e);
          }
        };
      };
    </script>

  <h1>S-Connector</h1>
  <div>
    <input id="userName" type="text" placeholder="사용자명" value="test" />
    <input id="roomName" type="text" placeholder="회의실명" value="test" />
    <button id="join">참여</button>
  </div>
  <div id="s-element"></div>
<html>
